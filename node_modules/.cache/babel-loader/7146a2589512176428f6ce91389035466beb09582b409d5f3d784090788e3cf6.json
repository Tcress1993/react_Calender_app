{"ast":null,"code":"import actionTypes from\"../constant/actionTypes\";const env=process.env;function userLoggedIn(username){return{type:actionTypes.USER_LOGGEDIN,USERNAME:username};}function logout(){return{type:actionTypes.USER_LOGGEDOUT};}export function submitLogin(data){return dispatch=>{return fetch(`${env.REACT_APP_API_URL}/signin`,{method:'POST',headers:{'Content-Type':'application/json','content-type':'application/json'},body:JSON.stringify(data),mode:'cors'}).then(response=>{if(!response.ok){throw Error(response.statusText);}return response.json();}).then(res=>{localStorage.setItem('username',data.username);localStorage.setItem('token',res.token);dispatch(userLoggedIn(data.username));}).catch(e=>console.log(e));};}export function submitResgister(data){return distpatch=>{return fetch(`${env.REACT_APP_API_URL}/signup`,{method:'POST',headers:{'Accept':'application/json','Content-type':'application/json'},body:JSON.stringify(data),mode:'cors'}).then(response=>{if(!response.ok){throw Error(response.statusText);}return response.json();}).then(res=>{dispatch(submitlogin(data));}).catch(e=>console.log(e));};}export function logoutUser(){return dispatch=>{localStorage.removeItem('username');localStorage.removeItem('token');dispatch(logout());};}","map":{"version":3,"names":["actionTypes","env","process","userLoggedIn","username","type","USER_LOGGEDIN","USERNAME","logout","USER_LOGGEDOUT","submitLogin","data","dispatch","fetch","REACT_APP_API_URL","method","headers","body","JSON","stringify","mode","then","response","ok","Error","statusText","json","res","localStorage","setItem","token","catch","e","console","log","submitResgister","distpatch","submitlogin","logoutUser","removeItem"],"sources":["C:/Users/SPeCS/OneDrive/Documents/Web API/final project(calender app)/react_Calender_app/src/actions/authActions.js"],"sourcesContent":["import actionTypes from \"../constant/actionTypes\";\r\n\r\nconst env = process.env;\r\n\r\nfunction userLoggedIn(username){\r\n    return{\r\n        type: actionTypes.USER_LOGGEDIN,\r\n        USERNAME: username\r\n    }\r\n}\r\n\r\nfunction logout(){\r\n    return {\r\n        type: actionTypes.USER_LOGGEDOUT\r\n    }\r\n}\r\n\r\nexport function submitLogin(data){\r\n    return dispatch =>{\r\n        return fetch(`${env.REACT_APP_API_URL}/signin`,{\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'content-type': 'application/json'\r\n            },\r\n            body: JSON.stringify(data),\r\n            mode: 'cors'\r\n        }).then((response) => {\r\n            if (!response.ok){\r\n                throw Error(response.statusText);\r\n            }\r\n            return response.json()\r\n        }).then((res) => {\r\n            localStorage.setItem('username', data.username);\r\n            localStorage.setItem('token', res.token);\r\n            dispatch(userLoggedIn(data.username));\r\n        }).catch((e) => console.log(e));\r\n    }\r\n}\r\n\r\nexport function submitResgister(data){\r\n    return distpatch =>{\r\n        return fetch(`${env.REACT_APP_API_URL}/signup`,{\r\n            method: 'POST',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-type': 'application/json'\r\n            },\r\n            body: JSON.stringify(data),\r\n            mode: 'cors'\r\n        }).then((response) => {\r\n            if (!response.ok){\r\n                throw Error(response.statusText);\r\n            }\r\n            return response.json()\r\n        }).then((res) => {\r\n            dispatch(submitlogin(data));\r\n        }).catch((e) => console.log(e));\r\n    }\r\n}\r\n\r\nexport function logoutUser(){\r\n    return dispatch => {\r\n        localStorage.removeItem('username');\r\n        localStorage.removeItem('token');\r\n        dispatch(logout());\r\n    }\r\n}"],"mappings":"AAAA,MAAO,CAAAA,WAAW,KAAM,yBAAyB,CAEjD,KAAM,CAAAC,GAAG,CAAGC,OAAO,CAACD,GAAG,CAEvB,QAAS,CAAAE,YAAYA,CAACC,QAAQ,CAAC,CAC3B,MAAM,CACFC,IAAI,CAAEL,WAAW,CAACM,aAAa,CAC/BC,QAAQ,CAAEH,QACd,CAAC,CACL,CAEA,QAAS,CAAAI,MAAMA,CAAA,CAAE,CACb,MAAO,CACHH,IAAI,CAAEL,WAAW,CAACS,cACtB,CAAC,CACL,CAEA,MAAO,SAAS,CAAAC,WAAWA,CAACC,IAAI,CAAC,CAC7B,MAAO,CAAAC,QAAQ,EAAG,CACd,MAAO,CAAAC,KAAK,CAAC,GAAGZ,GAAG,CAACa,iBAAiB,SAAS,CAAC,CAC3CC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACL,cAAc,CAAE,kBAAkB,CAClC,cAAc,CAAE,kBACpB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACR,IAAI,CAAC,CAC1BS,IAAI,CAAE,MACV,CAAC,CAAC,CAACC,IAAI,CAAEC,QAAQ,EAAK,CAClB,GAAI,CAACA,QAAQ,CAACC,EAAE,CAAC,CACb,KAAM,CAAAC,KAAK,CAACF,QAAQ,CAACG,UAAU,CAAC,CACpC,CACA,MAAO,CAAAH,QAAQ,CAACI,IAAI,CAAC,CAAC,CAC1B,CAAC,CAAC,CAACL,IAAI,CAAEM,GAAG,EAAK,CACbC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAElB,IAAI,CAACP,QAAQ,CAAC,CAC/CwB,YAAY,CAACC,OAAO,CAAC,OAAO,CAAEF,GAAG,CAACG,KAAK,CAAC,CACxClB,QAAQ,CAACT,YAAY,CAACQ,IAAI,CAACP,QAAQ,CAAC,CAAC,CACzC,CAAC,CAAC,CAAC2B,KAAK,CAAEC,CAAC,EAAKC,OAAO,CAACC,GAAG,CAACF,CAAC,CAAC,CAAC,CACnC,CAAC,CACL,CAEA,MAAO,SAAS,CAAAG,eAAeA,CAACxB,IAAI,CAAC,CACjC,MAAO,CAAAyB,SAAS,EAAG,CACf,MAAO,CAAAvB,KAAK,CAAC,GAAGZ,GAAG,CAACa,iBAAiB,SAAS,CAAC,CAC3CC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACL,QAAQ,CAAE,kBAAkB,CAC5B,cAAc,CAAE,kBACpB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACR,IAAI,CAAC,CAC1BS,IAAI,CAAE,MACV,CAAC,CAAC,CAACC,IAAI,CAAEC,QAAQ,EAAK,CAClB,GAAI,CAACA,QAAQ,CAACC,EAAE,CAAC,CACb,KAAM,CAAAC,KAAK,CAACF,QAAQ,CAACG,UAAU,CAAC,CACpC,CACA,MAAO,CAAAH,QAAQ,CAACI,IAAI,CAAC,CAAC,CAC1B,CAAC,CAAC,CAACL,IAAI,CAAEM,GAAG,EAAK,CACbf,QAAQ,CAACyB,WAAW,CAAC1B,IAAI,CAAC,CAAC,CAC/B,CAAC,CAAC,CAACoB,KAAK,CAAEC,CAAC,EAAKC,OAAO,CAACC,GAAG,CAACF,CAAC,CAAC,CAAC,CACnC,CAAC,CACL,CAEA,MAAO,SAAS,CAAAM,UAAUA,CAAA,CAAE,CACxB,MAAO,CAAA1B,QAAQ,EAAI,CACfgB,YAAY,CAACW,UAAU,CAAC,UAAU,CAAC,CACnCX,YAAY,CAACW,UAAU,CAAC,OAAO,CAAC,CAChC3B,QAAQ,CAACJ,MAAM,CAAC,CAAC,CAAC,CACtB,CAAC,CACL","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}