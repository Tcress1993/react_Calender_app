{"ast":null,"code":"import actionTypes from'../constant/actionTypes';const env=process.env;function eventsFetched(events){return{type:actionTypes.FETCH_EVENTS,EVENTS:events};}function eventFetched(event){return{type:actionTypes.FETCH_EVENT,EVENT:event};}function eventSet(event){return{type:actionTypes.SET_EVENT,EVENT:event};}export function setEvent(event){return dispatch=>{dispatch(eventSet(event));};}export function fetchEvent(eventId){return dispatch=>{return fetch(`${env.REACT_APP_API_URL}/events/${eventId}`,{method:'GET',headers:{'Accept':'application/json','Content-type':'application/json','Authorization':localStorage.getItem('token')},mode:'cors'}).then(response=>{if(!response.ok){throw Error(response.statusText);}return response.json();}).then(res=>{dispatch(eventFetched(res));}).catch(e=>console.log(e));};}export function fetchEvents(){return dispatch=>{return fetch(`${process.env.REACT_APP_API_URL}/events?month=${currentMonth+1}&year=${currentYear}`,{method:'GET',headers:{'Accept':'application/json','Content-type':'application/json','Authorization':localStorage.getItem('token')},mode:'cors'}).then(response=>{if(!response.ok){throw Error(response.statusText);}return response.json();}).then(res=>{dispatch(eventsFetched(res));}).catch(e=>console.log(e));};}export function addEvent(event){return dispatch=>{return fetch(`${env.REACT_APP_API_URL}/events?`,{method:'POST',headers:{'Accept':'application/json','Content-type':'application/json','Authorization':localStorage.getItem('token')},body:JSON.stringify(event),mode:'cors'}).then(response=>{if(!response.ok){throw Error(response.statusText);}return response.json();}).then(res=>{dispatch(fetchEvents());}).catch(e=>console.log(e));};}export function deleteEvent(eventId){return dispatch=>{return fetch(`${env.REACT_APP_API_URL}/events/${eventId}`,{method:'DELETE',headers:{'Accept':'application/json','Content-type':'application/json','Authorization':localStorage.getItem('token')},mode:'cors'}).then(response=>{if(!response.ok){throw Error(response.statusText);}return response.json();}).then(res=>{dispatch(fetchEvents());}).catch(e=>console.log(e));};}export function updateEvent(eventId,event){return dispatch=>{return fetch(`${env.REACT_APP_API_URL}/events/${eventId}`,{method:'PUT',headers:{'Accept':'application/json','Content-type':'application/json','Authorization':localStorage.getItem('token')},body:JSON.stringify(event),mode:'cors'}).then(response=>{if(!response.ok){throw Error(response.statusText);}return response.json();}).then(res=>{dispatch(fetchEvents());}).catch(e=>console.log(e));};}","map":{"version":3,"names":["actionTypes","env","process","eventsFetched","events","type","FETCH_EVENTS","EVENTS","eventFetched","event","FETCH_EVENT","EVENT","eventSet","SET_EVENT","setEvent","dispatch","fetchEvent","eventId","fetch","REACT_APP_API_URL","method","headers","localStorage","getItem","mode","then","response","ok","Error","statusText","json","res","catch","e","console","log","fetchEvents","currentMonth","currentYear","addEvent","body","JSON","stringify","deleteEvent","updateEvent"],"sources":["C:/Users/SPeCS/OneDrive/Documents/Web API/final project(calender app)/react_Calender_app/src/actions/eventAction.js"],"sourcesContent":["import actionTypes from '../constant/actionTypes';\r\n\r\nconst env = process.env;\r\n\r\nfunction eventsFetched(events){\r\n    return{\r\n        type: actionTypes.FETCH_EVENTS,\r\n        EVENTS: events\r\n    }\r\n}\r\n\r\nfunction eventFetched(event){\r\n    return{\r\n        type: actionTypes.FETCH_EVENT,\r\n        EVENT: event\r\n    }\r\n}\r\n\r\nfunction eventSet(event){\r\n    return{\r\n        type: actionTypes.SET_EVENT,\r\n        EVENT: event\r\n    }\r\n}\r\n\r\nexport function setEvent(event){\r\n    return dispatch =>{\r\n        dispatch(eventSet(event));\r\n    }\r\n}\r\n\r\nexport function fetchEvent(eventId){\r\n    return dispatch =>{\r\n        return fetch(`${env.REACT_APP_API_URL}/events/${eventId}`,{\r\n            method: 'GET',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-type': 'application/json',\r\n                'Authorization': localStorage.getItem('token')\r\n            },\r\n            mode: 'cors'\r\n        }).then((response) => {\r\n            if (!response.ok){\r\n                throw Error(response.statusText);\r\n            }\r\n            return response.json()\r\n        }).then((res) => {\r\n            dispatch(eventFetched(res));\r\n        }).catch((e) => console.log(e));\r\n    }\r\n}\r\n\r\nexport function fetchEvents(){\r\n    return dispatch =>{\r\n        return fetch(`${process.env.REACT_APP_API_URL}/events?month=${currentMonth+1}&year=${currentYear}`,{\r\n            method: 'GET',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-type': 'application/json',\r\n                'Authorization': localStorage.getItem('token')\r\n            },\r\n            mode: 'cors'\r\n        }).then((response) => {\r\n            if (!response.ok){\r\n                throw Error(response.statusText);\r\n            }\r\n            return response.json()\r\n        }).then((res) => {\r\n            dispatch(eventsFetched(res));\r\n        }).catch((e) => console.log(e));\r\n    }\r\n}\r\n\r\nexport function addEvent(event){\r\n    return dispatch =>{\r\n        return fetch(`${env.REACT_APP_API_URL}/events?`,{\r\n            method: 'POST',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-type': 'application/json',\r\n                'Authorization': localStorage.getItem('token')\r\n            },\r\n            body: JSON.stringify(event),\r\n            mode: 'cors'\r\n        }).then((response) => {\r\n            if (!response.ok){\r\n                throw Error(response.statusText);\r\n            }\r\n            return response.json()\r\n        }).then((res) => {\r\n            dispatch(fetchEvents());\r\n        }).catch((e) => console.log(e));\r\n    }\r\n\r\n}\r\n\r\nexport function deleteEvent(eventId){\r\n    return dispatch =>{\r\n        return fetch(`${env.REACT_APP_API_URL}/events/${eventId}`,{\r\n            method: 'DELETE',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-type': 'application/json',\r\n                'Authorization': localStorage.getItem('token')\r\n            },\r\n            mode: 'cors'\r\n        }).then((response) => {\r\n            if (!response.ok){\r\n                throw Error(response.statusText);\r\n            }\r\n            return response.json()\r\n        }).then((res) => {\r\n            dispatch(fetchEvents());\r\n        }).catch((e) => console.log(e));\r\n    }\r\n}\r\n\r\nexport function updateEvent(eventId, event){\r\n    return dispatch =>{\r\n        return fetch(`${env.REACT_APP_API_URL}/events/${eventId}`,{\r\n            method: 'PUT',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-type': 'application/json',\r\n                'Authorization': localStorage.getItem('token')\r\n            },\r\n            body: JSON.stringify(event),\r\n            mode: 'cors'\r\n        }).then((response) => {\r\n            if (!response.ok){\r\n                throw Error(response.statusText);\r\n            }\r\n            return response.json()\r\n        }).then((res) => {\r\n            dispatch(fetchEvents());\r\n        }).catch((e) => console.log(e));\r\n    }\r\n}\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}