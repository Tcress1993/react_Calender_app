{"ast":null,"code":"import actionTypes from \"../constants/actionTypes\";\nconst env = process.env;\nfunction userLoggedIn(username) {\n  return {\n    type: actionTypes.USER_LOGGEDIN,\n    USERNAME: username\n  };\n}\nfunction logout() {\n  return {\n    type: actionTypes.USER_LOGGEDOUT\n  };\n}\nexport function submitLogin(data) {\n  return dispatch => {\n    console.log(data);\n    return fetch(`${env.REACT_APP_API_URL}/signin`, {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data),\n      mode: 'cors'\n    }).then(response => {\n      if (!response.ok) {\n        throw Error(response.statusText);\n      }\n      return response.json();\n    }).then(res => {\n      localStorage.setItem('username', data.username);\n      localStorage.setItem('token', res.token);\n      dispatch(userLoggedIn(data.username));\n    }).catch(e => console.log(e));\n  };\n}\nexport function submitRegister(data) {\n  console.log(data);\n  return dispatch => {\n    return fetch(`${env.REACT_APP_API_URL}/signup`, {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-type': 'application/json'\n      },\n      body: JSON.stringify(data),\n      mode: 'cors'\n    }).then(response => {\n      if (!response.ok) {\n        throw Error(response.statusText);\n      }\n      return response.json();\n    }).then(res => {\n      dispatch(submitLogin(data));\n    }).catch(e => console.log(e));\n  };\n}\nexport function logoutUser() {\n  return dispatch => {\n    localStorage.removeItem('username');\n    localStorage.removeItem('token');\n    dispatch(logout());\n  };\n}","map":{"version":3,"names":["actionTypes","env","process","userLoggedIn","username","type","USER_LOGGEDIN","USERNAME","logout","USER_LOGGEDOUT","submitLogin","data","dispatch","console","log","fetch","REACT_APP_API_URL","method","headers","body","JSON","stringify","mode","then","response","ok","Error","statusText","json","res","localStorage","setItem","token","catch","e","submitRegister","logoutUser","removeItem"],"sources":["C:/Users/SPeCS/OneDrive/Documents/Web API/final project(calender app)/react_Calender_app/src/actions/authActions.js"],"sourcesContent":["import actionTypes from \"../constants/actionTypes\";\r\n\r\nconst env = process.env;\r\n\r\nfunction userLoggedIn(username){\r\n    return{\r\n        type: actionTypes.USER_LOGGEDIN,\r\n        USERNAME: username\r\n    }\r\n}\r\n\r\nfunction logout(){\r\n    return {\r\n        type: actionTypes.USER_LOGGEDOUT\r\n    }\r\n}\r\n\r\nexport function submitLogin(data){\r\n    return dispatch =>{\r\n        console.log(data);\r\n        return fetch(`${env.REACT_APP_API_URL}/signin`,{\r\n            method: 'POST',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json',\r\n                \r\n            },\r\n            body: JSON.stringify(data),\r\n            mode: 'cors'\r\n        }).then((response) => {\r\n            if (!response.ok){\r\n                throw Error(response.statusText);\r\n            }\r\n            return response.json()\r\n        }).then((res) => {\r\n            localStorage.setItem('username', data.username);\r\n            localStorage.setItem('token', res.token);\r\n            dispatch(userLoggedIn(data.username));\r\n        }).catch((e) => console.log(e));\r\n    }\r\n}\r\n\r\nexport function submitRegister(data){\r\n    console.log(data);\r\n    return dispatch =>{\r\n        return fetch(`${env.REACT_APP_API_URL}/signup`,{\r\n            method: 'POST',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-type': 'application/json'\r\n            },\r\n            body: JSON.stringify(data),\r\n            mode: 'cors'\r\n        }).then((response) => {\r\n            if (!response.ok){\r\n                throw Error(response.statusText);\r\n            }\r\n            return response.json()\r\n        }).then((res) => {\r\n            dispatch(submitLogin(data));\r\n        }).catch((e) => console.log(e));\r\n    }\r\n}\r\n\r\nexport function logoutUser(){\r\n    return dispatch => {\r\n        localStorage.removeItem('username');\r\n        localStorage.removeItem('token');\r\n        dispatch(logout());\r\n    }\r\n}"],"mappings":"AAAA,OAAOA,WAAW,MAAM,0BAA0B;AAElD,MAAMC,GAAG,GAAGC,OAAO,CAACD,GAAG;AAEvB,SAASE,YAAYA,CAACC,QAAQ,EAAC;EAC3B,OAAM;IACFC,IAAI,EAAEL,WAAW,CAACM,aAAa;IAC/BC,QAAQ,EAAEH;EACd,CAAC;AACL;AAEA,SAASI,MAAMA,CAAA,EAAE;EACb,OAAO;IACHH,IAAI,EAAEL,WAAW,CAACS;EACtB,CAAC;AACL;AAEA,OAAO,SAASC,WAAWA,CAACC,IAAI,EAAC;EAC7B,OAAOC,QAAQ,IAAG;IACdC,OAAO,CAACC,GAAG,CAACH,IAAI,CAAC;IACjB,OAAOI,KAAK,CAAC,GAAGd,GAAG,CAACe,iBAAiB,SAAS,EAAC;MAC3CC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACL,QAAQ,EAAE,kBAAkB;QAC5B,cAAc,EAAE;MAEpB,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACV,IAAI,CAAC;MAC1BW,IAAI,EAAE;IACV,CAAC,CAAC,CAACC,IAAI,CAAEC,QAAQ,IAAK;MAClB,IAAI,CAACA,QAAQ,CAACC,EAAE,EAAC;QACb,MAAMC,KAAK,CAACF,QAAQ,CAACG,UAAU,CAAC;MACpC;MACA,OAAOH,QAAQ,CAACI,IAAI,CAAC,CAAC;IAC1B,CAAC,CAAC,CAACL,IAAI,CAAEM,GAAG,IAAK;MACbC,YAAY,CAACC,OAAO,CAAC,UAAU,EAAEpB,IAAI,CAACP,QAAQ,CAAC;MAC/C0B,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEF,GAAG,CAACG,KAAK,CAAC;MACxCpB,QAAQ,CAACT,YAAY,CAACQ,IAAI,CAACP,QAAQ,CAAC,CAAC;IACzC,CAAC,CAAC,CAAC6B,KAAK,CAAEC,CAAC,IAAKrB,OAAO,CAACC,GAAG,CAACoB,CAAC,CAAC,CAAC;EACnC,CAAC;AACL;AAEA,OAAO,SAASC,cAAcA,CAACxB,IAAI,EAAC;EAChCE,OAAO,CAACC,GAAG,CAACH,IAAI,CAAC;EACjB,OAAOC,QAAQ,IAAG;IACd,OAAOG,KAAK,CAAC,GAAGd,GAAG,CAACe,iBAAiB,SAAS,EAAC;MAC3CC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACL,QAAQ,EAAE,kBAAkB;QAC5B,cAAc,EAAE;MACpB,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACV,IAAI,CAAC;MAC1BW,IAAI,EAAE;IACV,CAAC,CAAC,CAACC,IAAI,CAAEC,QAAQ,IAAK;MAClB,IAAI,CAACA,QAAQ,CAACC,EAAE,EAAC;QACb,MAAMC,KAAK,CAACF,QAAQ,CAACG,UAAU,CAAC;MACpC;MACA,OAAOH,QAAQ,CAACI,IAAI,CAAC,CAAC;IAC1B,CAAC,CAAC,CAACL,IAAI,CAAEM,GAAG,IAAK;MACbjB,QAAQ,CAACF,WAAW,CAACC,IAAI,CAAC,CAAC;IAC/B,CAAC,CAAC,CAACsB,KAAK,CAAEC,CAAC,IAAKrB,OAAO,CAACC,GAAG,CAACoB,CAAC,CAAC,CAAC;EACnC,CAAC;AACL;AAEA,OAAO,SAASE,UAAUA,CAAA,EAAE;EACxB,OAAOxB,QAAQ,IAAI;IACfkB,YAAY,CAACO,UAAU,CAAC,UAAU,CAAC;IACnCP,YAAY,CAACO,UAAU,CAAC,OAAO,CAAC;IAChCzB,QAAQ,CAACJ,MAAM,CAAC,CAAC,CAAC;EACtB,CAAC;AACL","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}